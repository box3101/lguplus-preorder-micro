---
const models = [
  {
    id: 'galaxy-s25',
    name: 'Galaxy S25',
    active: true,
    colors: [
      { name: 'gray', active: true, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'white', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'black', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'blue', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
    ],
    storage: [
      {
        size: '256GB',
        active: true,
        price: 1232233,
        discount: 150000,
        savings: 140000,
        benefitList: [
          { label: '공시지원금', value: '510,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '40,000원' },
          { label: '쓰던 폰 반납', value: '650,000원' },
          { label: '쓰던 폰 추가보상', value: '200,000원' },
        ],
        totalBenefit: '1,400,000원',
      },
      {
        size: '512GB',
        active: false,
        price: 1332233,
        discount: 170000,
        savings: 160000,
        benefitList: [
          { label: '공시지원금', value: '520,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '45,000원' },
          { label: '쓰던 폰 반납', value: '670,000원' },
          { label: '쓰던 폰 추가보상', value: '220,000원' },
        ],
        totalBenefit: '1,455,000원',
      },
      {
        size: '1TB',
        active: false,
        price: 1532233,
        discount: 200000,
        savings: 180000,
        benefitList: [
          { label: '공시지원금', value: '530,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '50,000원' },
          { label: '쓰던 폰 반납', value: '690,000원' },
          { label: '쓰던 폰 추가보상', value: '240,000원' },
        ],
        totalBenefit: '1,510,000원',
      },
    ],
  },
  {
    id: 'galaxy-s25-plus',
    name: 'Galaxy S25+',
    active: false,
    colors: [
      { name: 'gray', active: true, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'white', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'black', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'blue', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
    ],
    storage: [
      {
        size: '256GB',
        active: true,
        price: 1332233,
        discount: 160000,
        savings: 150000,
        benefitList: [
          { label: '공시지원금', value: '520,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '45,000원' },
          { label: '쓰던 폰 반납', value: '670,000원' },
          { label: '쓰던 폰 추가보상', value: '220,000원' },
        ],
        totalBenefit: '1,455,000원',
      },
      {
        size: '512GB',
        active: false,
        price: 1432233,
        discount: 180000,
        savings: 170000,
        benefitList: [
          { label: '공시지원금', value: '530,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '50,000원' },
          { label: '쓰던 폰 반납', value: '690,000원' },
          { label: '쓰던 폰 추가보상', value: '240,000원' },
        ],
        totalBenefit: '1,510,000원',
      },
      {
        size: '1TB',
        active: false,
        price: 1632233,
        discount: 210000,
        savings: 190000,
        benefitList: [
          { label: '공시지원금', value: '540,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '55,000원' },
          { label: '쓰던 폰 반납', value: '710,000원' },
          { label: '쓰던 폰 추가보상', value: '260,000원' },
        ],
        totalBenefit: '1,565,000원',
      },
    ],
  },
  {
    id: 'galaxy-s25-ultra',
    name: 'Galaxy S25 Ultra',
    active: false,
    colors: [
      { name: 'gray', active: true, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'white', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'black', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
      { name: 'blue', active: false, images: ['01.jpg', '02.jpg', '03.jpg'] },
    ],
    storage: [
      {
        size: '256GB',
        active: true,
        price: 1432233,
        discount: 170000,
        savings: 160000,
        benefitList: [
          { label: '공시지원금', value: '530,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '50,000원' },
          { label: '쓰던 폰 반납', value: '690,000원' },
          { label: '쓰던 폰 추가보상', value: '240,000원' },
        ],
        totalBenefit: '1,510,000원',
      },
      {
        size: '512GB',
        active: false,
        price: 1532233,
        discount: 190000,
        savings: 180000,
        benefitList: [
          { label: '공시지원금', value: '540,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '55,000원' },
          { label: '쓰던 폰 반납', value: '710,000원' },
          { label: '쓰던 폰 추가보상', value: '260,000원' },
        ],
        totalBenefit: '1,565,000원',
      },
      {
        size: '1TB',
        active: false,
        price: 1732233,
        discount: 220000,
        savings: 200000,
        benefitList: [
          { label: '공시지원금', value: '550,000원' },
          { label: '뽑기 즉시 할인 쿠폰', value: '60,000원' },
          { label: '쓰던 폰 반납', value: '730,000원' },
          { label: '쓰던 폰 추가보상', value: '280,000원' },
        ],
        totalBenefit: '1,620,000원',
      },
    ],
  },
];
---

<article class="model-select-wrp">
  <div class="tab-group model-select">
    <div class="common-tab-menu-wrp common-inner">
      <ul class="common-tab-menu model-tab">
        {
          models.map((model) => (
            <li
              class={`common-tab-menu-item ${model.active ? 'active' : ''}`}
              data-tab={model.id}
            >
              {model.name}
            </li>
          ))
        }
      </ul>

      {
        models.map((model) => (
          <div
            class={`common-tab-content ${model.active ? 'active' : ''}`}
            id={model.id}
          >
            <div class="tab-group color-select">
              {model.colors.map((color) => (
                <div
                  class={`common-tab-content ${color.active ? 'active' : ''}`}
                  id={`${model.id}-${color.name}`}
                >
                  <div class="color-swiper swiper">
                    <div class="swiper-wrapper">
                      {color.images.map((image, index) => (
                        <div class="swiper-slide">
                          <img
                            src={`images/${model.id}/${color.name}/${image}`}
                            alt={`${model.name} ${color.name} 이미지${
                              index + 1
                            }`}
                          />
                        </div>
                      ))}
                    </div>
                    <div class="swiper-button-prev" />
                    <div class="swiper-button-next" />
                  </div>
                </div>
              ))}

              <ul class="common-tab-menu common-tabs color-tab">
                {model.colors.map((color) => (
                  <li
                    class={`common-tab-menu-item ${
                      color.active ? 'active' : ''
                    }`}
                    data-tab={`${model.id}-${color.name}`}
                  >
                    <button type="button" class={`color-btn ${color.name}`} />
                  </li>
                ))}
              </ul>
            </div>

            <div class="tab-group storage-select">
              <ul class="common-tab-menu common-tabs storage-tab">
                {model.storage.map((storage) => (
                  <li
                    class={`common-tab-menu-item ${
                      storage.active ? 'active' : ''
                    }`}
                    data-tab={`${model.id}-${storage.size}`}
                  >
                    {storage.size}
                  </li>
                ))}
              </ul>

              {model.storage.map((storage) => (
                <div
                  class={`common-tab-content ${storage.active ? 'active' : ''}`}
                  id={`${model.id}-${storage.size}`}
                >
                  <h3 class="product-title">
                    {model.colors.find((c) => c.active)?.name}, {storage.size}
                  </h3>
                  <div class="price-info">
                    <p class="original-price">
                      출고가 {storage.price.toLocaleString()}원
                    </p>
                    <p class="reservation-price">
                      오늘 예약하면 {storage.discount.toLocaleString()}원
                    </p>
                    <p class="savings">
                      지급제보다 최대 {storage.savings.toLocaleString()}원 저렴
                    </p>
                    <div class="accordion">
                      <img
                        class="accordion-icon"
                        src={`/mobile/img/2024-alarm/느낌표.svg`}
                        alt="자세히 보기"
                      />
                      <button
                        class="accordion-txt"
                        data-gtm-event-name="button_click"
                        data-gtm-event-category="클릭"
                        data-gtm-event-action="사전알람 콘텐츠 영역 - 버튼 클릭"
                        data-gtm-event-label="컨텐츠 : 쿠폰 사용 방법"
                        data-gtm-click-location="사전알람 콘텐츠 영역"
                        data-gtm-click-text="쿠폰 사용 방법"
                      >
                        자세히 보기
                      </button>
                      <i class="arrow-down" />
                      <div class="accordion-content">
                        <ul class="benefit-list">
                          {storage.benefitList?.map((benefit) => (
                            <li>
                              <span class="benefit-label">{benefit.label}</span>
                              <strong class="benefit-value">
                                {benefit.value}
                              </strong>
                            </li>
                          ))}
                        </ul>
                        <div class="total-benefit">
                          <strong>{storage.totalBenefit}</strong> 혜택 적용됨
                        </div>
                        <div class="benefit-notice">
                          <ul>
                            <li>Galaxy S25 1TB 구매 시 혜택</li>
                            <li>5G 프리미어+ 에센셜 요금제 공시지원금</li>
                            <li>25년 1월 첫 출시 판매가 기준</li>
                            <li>
                              혜택이 종료될 경우 최종 혜택가가 변경될 수 있어요
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</article>
